<!DOCTYPE html>
<!-- saved from url=(0064)https://codecraft.tv/courses/angular/http/http-with-observables/ -->
<html lang="en-US" ng-app="ccApp" itemscope="" itemtype="http://schema.org/Article" class="ng-scope"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style><style data-styles="">stencil-async-content,stencil-route,stencil-route-link,stencil-route-title,stencil-router,stencil-router-redirect,stx-abtest,test-app,test-demo-four,test-demo-six,test-demo-three{visibility:hidden}.ðŸ’Ž{visibility:inherit}</style>
  <title>HTTP Example with Observables â€¢ HTTP â€¢ Angular 5</title>

  <!-- Basic Page Head -->
  

  <meta name="description" content="In this lecture weâ€™ve covered, in depth, how to use observables when making HTTP requests.  The goal of this lecture was to show you how you can evolve your application from one that uses just a little bit of observables to one that uses a lot more.  Hopefully you now have a much better idea of how â€¦ ">

  <script type="text/javascript" async="" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/heap-1761016128.js"></script><script async="" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/analytics.js"></script><script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/i4QCcbQ8V99CvMdnFGI6RILnjKM.js"></script><script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/w29n6KouhN4Gd4tvBK08VOwpu2g.js"></script><link rel="canonical" href="https://codecraft.tv/courses/angular/http/http-with-observables/">

  <!-- Mobile Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <!-- Open Graph -->
  <meta name="description" content="In this lecture weâ€™ve covered, in depth, how to use observables when making HTTP requests.  The goal of this lecture was to show you how you can evolve your application from one that uses just a little bit of observables to one that uses a lot more.  Hopefully you now have a much better idea of how â€¦ ">
  <meta property="og:title" content="HTTP Example with Observables â€¢ HTTP â€¢ Angular 5">
  <meta property="og:description" content="In this lecture weâ€™ve covered, in depth, how to use observables when making HTTP requests.  The goal of this lecture was to show you how you can evolve your application from one that uses just a little bit of observables to one that uses a lot more.  Hopefully you now have a much better idea of how â€¦ ">
  <meta property="og:image" content="https://www.codecraft.tv/assets/images/site/codecraft-cover-v1.jpg">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="CodeCraft">

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@jawache">
  <meta name="twitter:title" content="HTTP Example with Observables â€¢ HTTP â€¢ Angular 5">
  <meta name="twitter:description" content="In this lecture weâ€™ve covered, in depth, how to use observables when making HTTP requests.  The goal of this lecture was to show you how you can evolve your application from one that uses just a little bit of observables to one that uses a lot more.  Hopefully you now have a much better idea of how â€¦ ">
  <meta name="twitter:creator" content="@jawache">
  <meta name="twitter:image:src" content="https://www.codecraft.tv/assets/images/site/codecraft-cover-v1.jpg">


  <!-- Favicons -->
  <link rel="icon" type="image/png" href="https://codecraft.tv/assets/images/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://codecraft.tv/assets/images/favicon-16x16.png" sizes="16x16">

  <!-- Fonts -->
  <link href="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/css" rel="stylesheet" type="text/css">

  <!-- Styles -->
  <link rel="stylesheet" href="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/app-323d9e242ce98e12b182d142129044cc.css">

  <script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource" data-sumo-site-id="e93bcf489a889d57d69aed9c7caf8dbda83cf88ed41522320d4eb2b845dde0c2" async="async"></script>

  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
          }, i[r].l = 1 * new Date();
      a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-65632705-11', 'auto');
    ga('send', 'pageview');

  </script><iframe id="sumome-jquery-iframe" title="Sumo Hidden Content" style="display: none;" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(2).html"></iframe>
<script id="_carbonads_projs" type="text/javascript" src="https://srv.carbonads.net/ads/CK7DT23Y.json?segment=placement:codecrafttv&amp;callback=_carbonads_go"></script><script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/abtest.wdmzp8oo.js" data-path="https://unpkg.com/stx-abtest@latest/dist/abtest/" data-core="abtest.wdmzp8oo.js"></script><script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/embed.js" data-timestamp="1527863029078"></script><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style><script type="text/javascript" charset="utf-8" async="" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/button.bf357a6ba1a5f1fa0ddb61377ae3add5.js"></script><link rel="preload" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.3999ac261b914f8b8b5e85df0ff3eaea.css"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.267fd1014695bb1a035de2f6e53d1baa.js"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.626c134d63941a974c8c2fc4898c51d9.js"><link rel="preload" as="script" href="https://disqus.com/next/config.js"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="156085c5-0017-4150-b225-a731ad248f38/service" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/service.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="services/services" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/services.js"></script><style>@-webkit-keyframes insQ_100 {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }
#menufication-top { animation-duration: 0.001s; animation-name: insQ_100; -webkit-animation-duration: 0.001s; -webkit-animation-name: insQ_100;  } </style><link type="text/css" rel="stylesheet" href="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/sme-contactform-popup.css"><link type="text/css" rel="stylesheet" href="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/sumome-share-client.css"><link type="text/css" rel="stylesheet" href="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/listbuilder-popup.css"><script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/alfalfa.4a5fcca1fe50a757044dfd331b660625.js" async="" charset="UTF-8"></script></head>
<body style="">

<header class="site-header">

  <!-- Top navbar & branding -->
  <nav class="navbar navbar-default">
    <div class="container">

      <!-- Toggle buttons and brand -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar">
          <span class="glyphicon glyphicon-option-vertical"></span>
        </button> 
        <button type="button" class="navbar-toggle for-sidebar" data-toggle="offcanvas">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button> 

        <a class="navbar-brand" href="https://codecraft.tv/">
          <span class="force-middle"></span>
          <img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/logo-tall.png" alt="logo">
        </a>
      </div>
      <!-- END Toggle buttons and brand -->

      <!-- Top navbar -->
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li class="">
            <a href="https://codecraft.tv/">Home</a>
          </li>

          <li class="">
            <a href="https://codecraft.tv/blog/">Blog</a>
          </li>


          <!-- <li class="">
            <a href="/training/">Training</a>
          </li>-->

          <li class="">
            <a href="https://codecraft.tv/courses/">Courses</a>
            <!-- <li class="dropdown  active">
              <a class="dropdown-toggle" data-toggle="dropdown" role="button">Courses <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li>
                  <a href="/courses/angular/">Angular 4</a>
                </li>
                <li>
                  <a target="_blank" href="http://academy.codecraft.tv/p/angularjs/">AngularJS 1.x</a>
                </li>
                <li>
                  <a target="_blank" href="http://academy.codecraft.tv/p/advanced-javascript/">Advanced JavaScript</a>
                </li>
              </ul>
            </li> -->
          </li>

          <li class="">
            <a href="https://codecraft.tv/speaking/">Speaking</a>
          </li>

          <!--<li class="">-->
          <!--<a href="/training/">Training</a>-->
          <!--</li>-->
          <!--<user-auth class="navbar-nav nav"></user-auth>-->
        </ul>
      </div>
      <!-- END Top navbar -->

    </div>
  </nav>
  <!-- END Top navbar & branding -->

</header>
<main class="container lecture">
  <div class="row">

    <!-- Sidebar -->
    <aside class="col-md-3 col-sm-3 sidebar">
    
      <script async="" type="text/javascript" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/carbon.js" id="_carbonads_js"></script><div id="carbonads"><span><span class="carbon-wrap"><a href="https://srv.carbonads.net/ads/click/x/GTND42QLCAADPKJJC674YKQMCVSIEK3LCWYDCZ3JCW7DEK3LCE7D6K7KC6BI627YCYYIKK3EHJNCLSIZ?segment=placement:codecrafttv;" class="carbon-img" target="_blank" rel="noopener"><img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/1524760431-CircleCI.jpeg" alt="" border="0" height="100" width="130" style="max-width: 130px;"></a><a href="https://srv.carbonads.net/ads/click/x/GTND42QLCAADPKJJC674YKQMCVSIEK3LCWYDCZ3JCW7DEK3LCE7D6K7KC6BI627YCYYIKK3EHJNCLSIZ?segment=placement:codecrafttv;" class="carbon-text" target="_blank" rel="noopener">CircleCI 2.0 is freaking fast. We reduced builds from minutes to 12 seconds.</a></span><a href="http://carbonads.net/?utm_source=codecrafttv&amp;utm_medium=ad_via_link&amp;utm_campaign=in_unit&amp;utm_term=carbon" class="carbon-poweredby" target="_blank" rel="noopener">ads via Carbon</a></span></div>
    
      <ul class="sidenav dropable">
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Quickstart
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/plunker/" class="">Plunker
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/typescript-intro/" class="">Intro to TypeScript
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/first-app/" class="">Writing our first app
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/string-interpolation/" class="">String Interpolation
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/looping/" class="">Looping
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/property-and-event-binding/" class="">Property &amp; Event Binding
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/domain-models/" class="">Domain Model
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/nesting-components-and-inputs/" class="">Nesting Components &amp; Inputs
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/user-interaction-and-outputs/" class="">User Interaction &amp; Outputs
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/quickstart/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">ES6 JavaScript &amp; TypeScript
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/1/" class="">TypeScript Setup
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/let/" class="">Let
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/const/" class="">Const
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/template-strings/" class="">Template Strings
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/arrow/" class="">Fat Arrow Functions
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/destructuring/" class="">Destructuring
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/for-of/" class="">For Of
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/mapset/" class="">Map &amp; Set
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/promises/" class="">Promises
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/classinterface/" class="">Class &amp; Interface
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/decorators/" class="">Decorators
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/modules/" class="">Modules
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/types/" class="">Types
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/es6-typescript/flash-cards/" class="">Flash Cards
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Angular CLI
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/angular-cli/overview/" class="">Angular CLI
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/angular-cli/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/angular-cli/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Components
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/architecting/" class="">Architecting with Components
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/templates-styles-view-encapsulation/" class="">Templates, Styles &amp; View Encapsulation
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/content-projection/" class="">Content Projection
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/lifecycle-hooks/" class="">Lifecycle Hooks
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/viewchildren-and-contentchildren/" class="">ViewChildren &amp; ContentChildren
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/components/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Built-in Directives
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/ngfor/" class="">NgFor
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/ngif-and-ngswitch/" class="">NgIf &amp; NgSwitch
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/ngstyle-and-ngclass/" class="">NgStyle &amp; NgClass
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/ngnonbindable/" class="">NgNonBindable
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/structural-directives/" class="">Structural Directives
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/built-in-directives/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Custom Directives
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/creating-a-custom-directive/" class="">Creating a custom directive
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/hostlistener-and-hostbinding/" class="">HostListener &amp; HostBinding
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/inputs-and-configuration/" class="">Inputs &amp; Configuration
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/custom-directives/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Reactive Programming with RxJS
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/streams-and-reactive-programming/" class="">Streams &amp; Reactive Programming
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/observables-and-rxjs/" class="">Observables &amp; RxJS
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/rxjs-and-angular/" class="">RxJS &amp; Angular
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/reactive-programming-with-rxjs/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Pipes
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/built-in-pipes/" class="">Built-in Pipes
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/async-pipe/" class="">Async Pipe
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/custom-pipes/" class="">Custom Pipes
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/pipes/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Forms
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/model-driven/" class="">Model Driven Forms
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/model-driven-validation/" class="">Model Driven Form Validation
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/submitting-and-resetting/" class="">Submitting &amp; Resetting
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/reactive-model-form/" class="">Reactive Model Form
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/template-driven/" class="">Template Driven Forms
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/flash-cards/" class="">Flash Cards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/forms/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Dependency Injection &amp; Providers
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/injectors/" class="">Injectors
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/providers/" class="">Provider
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/tokens/" class="">Tokens
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/configuring/" class="">Configuring Dependency Injection in Angular
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/ngmodule-providers-vs-component-providers-vs-component-viewproviders/" class="">NgModule.providers vs Component.providers vs Component.viewProviders
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/dependency-injection-and-providers/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="active open has-child">HTTP
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/core-http-api/" class="">Core HTTP API
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/http-with-promises/" class="">HTTP Example with Promises
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/http-with-observables/" class="active">HTTP Example with Observables
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/jsonp-with-observables/" class="">JSONP Example with Observables
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/http/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Routing
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/route-configuration/" class="">Route Configuration
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/navigation/" class="">Navigation
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/parameterised-routes/" class="">Parameterised Routes
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/nested-routes/" class="">Nested Routes
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/router-guards/" class="">Router Guards
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/routing-strategies/" class="">Routing Strategies
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/summary/" class="">Wrapping Up
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/routing/activity/" class="">Activity
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Unit Testing
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/jasmine-and-karma/" class="">Jasmine &amp; Karma
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/classes-and-pipes/" class="">Testing Classes &amp; Pipes
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/mocks-and-spies/" class="">Testing with Mocks &amp; Spies
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/angular-test-bed/" class="">Angular Test Bed
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/change-detection/" class="">Testing Change Detection
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/asynchronous/" class="">Testing Asynchronous Code
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/dependency-injection/" class="">Testing Dependency Injection
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/components/" class="">Testing Components
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/directives/" class="">Testing Directives
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/model-driven-forms/" class="">Testing Model Driven Forms
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/http-and-jsonp/" class="">Testing Http
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/routing/" class="">Testing Routing
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/unit-testing/summary/" class="">Wrapping Up
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Advanced Topics
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/advanced-topics/basic-custom-validators/" class="">Custom Form Validators
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/advanced-topics/configurable-custom-validators/" class="">Configurable Custom Form Validators
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/http-with-observables/#" class="has-child">Final Project
          </a>
          <!--  -->
          <ul>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/overview/" class="">Overview
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-1-services/" class="">Step 1 - Services
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-2-routing/" class="">Step 2 - Routing
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-3-navigation/" class="">Step 3 - Navigation
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-4-searching/" class="">Step 4 - Searching
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-5-pagination/" class="">Step 5 - Pagination
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-6-booklist/" class="">Step 9 - Book List
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-7-book/" class="">Step 9 - Book
              </a>
            </li>
            <li>
              <a href="https://codecraft.tv/courses/angular/project/step-8-library/" class="">Step 9 - Library
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </aside>
    <!-- END Sidebar -->
    <!-- Main content -->
    <article class="col-md-9 col-sm-9 main-content" role="main">

      <ol class="breadcrumb">
        <li>
          <a href="https://codecraft.tv/courses/angular/">Angular 5</a>
        </li>
        <li>
          <a href="https://codecraft.tv/courses/angular/http/overview/">HTTP</a>
        </li>
        <li class="active">HTTP Example with Observables</li>
      </ol>

      <header>
        <h1>HTTP Example with Observables</h1>
      </header>

      <ul class="post-meta">
        <li><i>Author:</i>
          <span id="author">
            <img class="img img-circle" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/asim-bw.jpg" alt="">
            Asim
            <span class="twitter-button">
              <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" class="twitter-follow-button twitter-follow-button-rendered" style="position: static; visibility: visible; width: 211px; height: 20px;" title="Twitter Follow Button" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/follow_button.b813cd3227574096a07e094b73331535.en.html" data-screen-name="jawache"></iframe>
            </span>
          </span>        </li>
      </ul>


      <div class="embed-container">
        <div data-vimeo-id="192319961" data-vimeo-initialized="true"><iframe src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/192319961.html" width="640" height="360" frameborder="0" title="Angular / HTTP / HTTP with Observables (Basic Observables and Observables All The Way Down)" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></div>
      </div>


      <nav>
        <ul class="pager">
          <li class="previous">
            <a href="https://codecraft.tv/courses/angular/http/http-with-promises/">HTTP Example with Promises</a>
          </li>
      
          <li class="next">
            <a href="https://codecraft.tv/courses/angular/http/jsonp-with-observables/">JSONP Example with Observables</a>
          </li>
        </ul>
      </nav>
      <div id="lecture-content">
        <div id="toc" class="toc">

<ul class="sectlevel1">
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_learning_objectives">Learning Objectives</a></li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_returning_an_observable_from_the_service">Returning an&nbsp;Observable from the&nbsp;service</a></li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_using_the_code_async_code_pipe">Using the&nbsp;<code>async</code> pipe</a></li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_observables_all_the_way_down">Observables all the&nbsp;way down</a>
<ul class="sectlevel2">
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_linking_two_observables_together">Linking two observables together</a></li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_rendering_results">Rendering results</a></li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_loading_indicator">Loading indicator</a></li>
</ul>
</li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_summary">Summary</a></li>
<li><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_listing">Listing</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In&nbsp;the previous lecture we architected an&nbsp;application which made <abbr>HTTP</abbr> calls and&nbsp;handled all asynchronous work by&nbsp;using <em>Promises</em>.</p>
</div>
<div class="paragraph">
<p>In&nbsp;this lecture we are going to&nbsp;implement exactly the&nbsp;same application but using <em>Observables</em> instead.</p>
</div>
<div class="callout callout-important"><h4>Important</h4><div>
Please note we still need to&nbsp;use the&nbsp;<abbr>CORS</abbr> plugin, or&nbsp;one of&nbsp;the other work arrounds, that we discussed in&nbsp;the previous lecture.
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_learning_objectives"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_learning_objectives">Learning Objectives</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Our goal in&nbsp;this lecture is not to&nbsp;just replace <em>Promises</em> with <em>Observables</em> but instead to&nbsp;go a&nbsp;deeper and&nbsp;implement most of&nbsp;our functionality with an&nbsp;<em>Observable Chain</em>.</p>
</div>
<div class="paragraph">
<p>Working with Observables does require a&nbsp;different way of&nbsp;thinking about programming, Itâ€™s my&nbsp;hope that after this lecture you will have a&nbsp;much better idea of&nbsp;how to&nbsp;solve similar problems with RxJS and&nbsp;observables.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_returning_an_observable_from_the_service"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_returning_an_observable_from_the_service">Returning an&nbsp;Observable from the&nbsp;service</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In&nbsp;the promise example we stored the&nbsp;returned results on&nbsp;the service itself in&nbsp;the <code>results</code> propery.</p>
</div>
<div class="paragraph">
<p>In&nbsp;this observable example we are instead going to&nbsp;make the&nbsp;<code>search</code> function <em>return</em> an&nbsp;observable which the&nbsp;AppComponent is going to&nbsp;subscribe to, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import {Observable} from 'rxjs';
.
.
.
search(term:string): Observable&lt;SearchItem[]&gt; { .. }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The&nbsp;return type is <code>Observable&lt;SearchItem[]&gt;</code>, itâ€™s going to&nbsp;return an&nbsp;observable where each item in&nbsp;the observable is <code>SearchItem[]</code>, each item in&nbsp;the observable is going to&nbsp;be an&nbsp;<em>array</em> of&nbsp;<code>SearchItems</code>.</p>
</div>
<div class="paragraph">
<p>Thatâ€™s our intention at&nbsp;least but we need to&nbsp;adjust our search function to&nbsp;make it a&nbsp;reality, a&nbsp;first step would look like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>search(term:string): Obervable&lt;SearchItem[]&gt; {
  let apiURL = `${this.apiRoot}?term=${term}&amp;media=music&amp;limit=20`;
  return this.http.get(apiURL)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Weâ€™ve removed the&nbsp;Promise code and&nbsp;since <code>http.get(â€¦â€‹)</code> returns an&nbsp;<code>Observable</code>, specifically an&nbsp;<code>Observable</code> of&nbsp;<code>Response</code> types so the&nbsp;type would be <code>Observable&lt;Response&gt;</code>, we just return that instead.</p>
</div>
<div class="paragraph">
<p>However the&nbsp;above has two problems:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The&nbsp;return type of&nbsp;<code>http.get(â€¦â€‹)</code> is <code>Observable&lt;Response&gt;</code> and&nbsp;not <code>Observable&lt;SearchItem[]&gt;</code></p>
</li>
<li>
<p>Itâ€™s missing the&nbsp;code to&nbsp;convert the&nbsp;raw json to&nbsp;our <code>SearchItem</code> domain model.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Basically we still need to&nbsp;convert the&nbsp;<code>Response</code> to&nbsp;an array of&nbsp;<code>SearchItems</code>.</p>
</div>
<div class="paragraph">
<p>We can do that with our Observable by&nbsp;running a&nbsp;<code>map</code> operation where we convert each <code>Response</code> to&nbsp;an array of&nbsp;<code>SearchItems</code>, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>search(term: string): Observable&lt;SearchItem[]&gt; {
  let apiURL = `${this.apiRoot}?term=${term}&amp;media=music&amp;limit=20&amp;callback=JSONP_CALLBACK`;
  return this.http.get(apiURL) <i class="conum" data-value="1"></i><b>(1)</b>
      .map(res =&gt; { <i class="conum" data-value="2"></i><b>(2)</b>
        return res.json().results.map(item =&gt; { <i class="conum" data-value="3"></i><b>(3)</b>
          return new SearchItem( <i class="conum" data-value="4"></i><b>(4)</b>
              item.trackName,
              item.artistName,
              item.trackViewUrl,
              item.artworkUrl30,
              item.artistId
          );
        });
      });
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>this.http.get(apiURL)</code> returns an&nbsp;<code>Observable</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>map</code> is an&nbsp;observable operator which calls a&nbsp;function for&nbsp;each item on&nbsp;its input stream and&nbsp;pushes the&nbsp;result of&nbsp;the function to&nbsp;itâ€™s output stream. In&nbsp;this case each input item is a&nbsp;<code>Response</code> object.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We loop over each item in&nbsp;the <code>results</code> property of&nbsp;the <code>Response</code> object and&nbsp;transform the&nbsp;item via a&nbsp;function.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We convert the&nbsp;raw data returned from the&nbsp;iTunes <abbr>API</abbr> into an&nbsp;instance of&nbsp;<code>SearchItem</code></td>
</tr>
</tbody></table>
</div>
<div class="callout callout-important"><h4>Important</h4><div>
<div class="paragraph">
<p><code>map</code> in&nbsp;this instance is an&nbsp;operator from RxJS so to&nbsp;use it we need to&nbsp;explicitly import it via:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import 'rxjs/add/operator/map';</code></pre>
</div>
</div>
</div></div>
<div class="paragraph">
<p>The&nbsp;end result is that the&nbsp;code above converts the&nbsp;<code>Observable&lt;Response&gt;</code> that gets returned from <code>this.http.get(â€¦â€‹)</code> to&nbsp;an <code>Observable&lt;SearchItem[]&gt;</code> which it then returns to&nbsp;the caller.</p>
</div>
<div class="paragraph">
<p>The&nbsp;caller in&nbsp;our case is the&nbsp;<code>AppComponent</code> so we need to&nbsp;change that to&nbsp;work with <code>Observables</code> as&nbsp;well.</p>
</div>
<div class="paragraph">
<p>One way to&nbsp;use this <code>Observable</code> in&nbsp;our <code>AppComponent</code> would be just to&nbsp;subscribe to&nbsp;it and&nbsp;store the&nbsp;results locally, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>class AppComponent {
  private loading: boolean = false;
  private results: SearchItem[];

  constructor(private itunes:SearchService) { }

  doSearch(term:string) {
    this.loading = true;
    this.itunes.search(term).subscribe( data =&gt; {
      this.loading = false;
      this.results = data <i class="conum" data-value="1"></i><b>(1)</b>
    });
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We subscribe to&nbsp;the <code>Observable&lt;SearchItem[]&gt;</code> returned from the&nbsp;service and&nbsp;store each <code>SearchItem[]</code> to&nbsp;our local <code>results</code> property.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>We also need to&nbsp;change our template to&nbsp;loop over the&nbsp;local <code>results</code> property and&nbsp;not the&nbsp;old <code>itunes.results</code> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="html"><span></span><span class="tok-p">&lt;</span><span class="tok-nt">div</span>  <span class="tok-err">*</span><span class="tok-na">ngFor</span><span class="tok-o">=</span><span class="tok-s">"let item of results"</span><span class="tok-p">&gt;</span> ... <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Running the&nbsp;above application works, we can congratulate ourselves for&nbsp;using Observables with <abbr>HTTP</abbr> request, but we can go deeper.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_code_async_code_pipe"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_using_the_code_async_code_pipe">Using the&nbsp;<code>async</code> pipe</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The&nbsp;above is a&nbsp;good start but we are not really using <code>Observables</code> to&nbsp;their full extent, for&nbsp;one thing we are subscribing to&nbsp;the observable and&nbsp;storing the&nbsp;results locally on&nbsp;the component, we can skip that by&nbsp;just using the&nbsp;<code>async</code> pipe in&nbsp;our template like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>class AppComponent {
  private loading: boolean = false;
  private results: Observable&lt;SearchItem[]&gt;;

  constructor(private itunes:SearchService) { }

  doSearch(term:string) {
    this.loading = true;
    this.results = this.itunes.search(term); <i class="conum" data-value="1"></i><b>(1)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>results</code> now stores the&nbsp;<code>Observable</code> itself and&nbsp;not an&nbsp;array of&nbsp;<code>SearchItems</code>. We donâ€™t need to&nbsp;subscribe but simply store the&nbsp;result of&nbsp;calling <code>itunes.search</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To&nbsp;make the&nbsp;above work we need to&nbsp;use the&nbsp;<code>async</code> pipe in&nbsp;our template, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>&lt;div  *ngFor="let item of results | async"&gt; ... &lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observables_all_the_way_down"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_observables_all_the_way_down">Observables all the&nbsp;way down</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pressing a&nbsp;<em>Search</em> button every-time we want to&nbsp;make a&nbsp;search is so <em>2012</em>, lets change our application so it uses a&nbsp;<em>reactive</em> form and&nbsp;performs a&nbsp;search as&nbsp;we type. Weâ€™ve covered reactive forms before so we just need to&nbsp;change our <code>AppComponent</code> to&nbsp;add a&nbsp;search field, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="html"><span></span><span class="tok-p">&lt;</span><span class="tok-nt">form</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">"form-inline"</span><span class="tok-p">&gt;</span>
  <span class="tok-p">&lt;</span><span class="tok-nt">div</span> <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">"form-group"</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&lt;</span><span class="tok-nt">input</span> <span class="tok-na">type</span><span class="tok-o">=</span><span class="tok-s">"search"</span>
           <span class="tok-na">class</span><span class="tok-o">=</span><span class="tok-s">"form-control"</span>
           <span class="tok-na">placeholder</span><span class="tok-o">=</span><span class="tok-s">"Enter search string"</span>
           <span class="tok-err">[</span><span class="tok-na">formControl</span><span class="tok-err">]="</span><span class="tok-na">searchField</span><span class="tok-err">"</span><span class="tok-p">&gt;</span>
  <span class="tok-p">&lt;/</span><span class="tok-nt">div</span><span class="tok-p">&gt;</span>
<span class="tok-p">&lt;/</span><span class="tok-nt">form</span><span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We also change our component to&nbsp;setup a&nbsp;form model, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>class AppComponent {
  private loading: boolean = false;
  private results: Observable&lt;SearchItem[]&gt;;
  private searchField: FormControl;

  constructor(private itunes:SearchService) { }

  ngOnInit() {
    this.searchField = new FormControl();
    this.searchField.valueChanges
      .debounceTime(400)
      .distinctUntilChanged()
      .subscribe(); // Need to call subscribe to make it hot!
  }

  doSearch(term:string) {
    this.itunes.search(term)
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To&nbsp;summarise the&nbsp;changes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Weâ€™ve added a&nbsp;<code>searchField</code> <code>FormControl</code> to&nbsp;our <code>AppComponent</code> properties</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>private searchField: FormControl;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Weâ€™ve linked our <code>searchField</code> to&nbsp;our template form element with a&nbsp;<code>[formControl]</code> directive</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="html"><span></span>[formControl]="searchField"</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>To&nbsp;support the&nbsp;above weâ€™ve imported code from the&nbsp;form module and&nbsp;added them to&nbsp;our <code>NgModules</code> imports.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import {ReactiveFormsModule, FormControl, FormsModule} from '@angular/forms';

@NgModule({
  imports: [
    BrowserModule,
    ReactiveFormsModule,
    FormsModule,
    HttpModule,
  ],
  declarations: [AppComponent],
  bootstrap: [AppComponent],
  providers: [SearchService]
})</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Weâ€™ve implemented the&nbsp;<code>ngOnInit</code> function so we can work with our search control once itâ€™s been linked to&nbsp;the form element.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>ngOnInit() { ... }</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>We now <code>subscribe</code> to&nbsp;the observable our <code>searchField</code> exposes via the&nbsp;<code>valuesChanged</code> property, we use <code>debounceTime</code> and&nbsp;<code>distintUntilChanged</code> so we only get notified when the&nbsp;user <em>really</em> wants us to&nbsp;make a&nbsp;query.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>this.searchField.valueChanges
  .debounceTime(400)
  .distinctUntilChanged()
  .subscribe(); // Need to call subscribe to make it hot!</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>To&nbsp;enable the&nbsp;use of&nbsp;these operators weâ€™ve explicitly included them from RxJS</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import 'rxjs/add/operator/debounceTime';
import 'rxjs/add/operator/distinctUntilChanged';</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_linking_two_observables_together"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_linking_two_observables_together">Linking two observables together</a></h3>
<div class="paragraph">
<p>We now have an&nbsp;<code>Observable</code> on&nbsp;the <code>AppComponent</code> which emits a&nbsp;search term every time we want to&nbsp;perform a&nbsp;search.</p>
</div>
<div class="paragraph">
<p>We also have the&nbsp;<code>SearchService</code> returning an&nbsp;<code>Observable</code> via the&nbsp;search function with the&nbsp;results of&nbsp;performing a&nbsp;search.</p>
</div>
<div class="paragraph">
<p>How do we link these two together?</p>
</div>
<div class="paragraph">
<p>The&nbsp;<code>valueChanges</code> observable on&nbsp;our <code>searchField</code> is of&nbsp;type <code>Observable&lt;string&gt;</code></p>
</div>
<div class="paragraph">
<p>Through a&nbsp;chain of&nbsp;operators we want to&nbsp;convert that <code>Observable&lt;string&gt;</code> into an&nbsp;<code>Observable&lt;SearchItem[]&gt;</code>.</p>
</div>
<div class="paragraph">
<p>To&nbsp;start with lets use the&nbsp;<code>map</code> operator, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>ngOnInit() {
  this.searchField = new FormControl();
  this.searchField.valueChanges
    .debounceTime(400)
    .distinctUntilChanged()
    .map( term =&gt; this.itunes.search(term)) <i class="conum" data-value="1"></i><b>(1)</b>
    // Need to call subscribe to make it hot!
    .subscribe( value =&gt; console.log(value));
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We call the&nbsp;search service for&nbsp;every emit of&nbsp;a search term on&nbsp;the input stream.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If we ran the&nbsp;above and&nbsp;looked at&nbsp;the logs, instead of&nbsp;seeing see an&nbsp;array of&nbsp;<code>SearchItems</code> printing out we see something that looks like an&nbsp;<code>Observable</code>, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="json"><span></span><span class="tok-err">Observable</span> <span class="tok-p">{</span><span class="tok-err">_isScalar:</span> <span class="tok-err">false,</span> <span class="tok-err">source:</span> <span class="tok-err">Observable,</span> <span class="tok-err">operator:</span> <span class="tok-err">MapOperator</span><span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Whatâ€™s happening is that <code>itunes.search(term)</code> isnâ€™t returning <code>SearchItem[]</code> itâ€™s returning <code>Observable&lt;SearchItem[]&gt;</code>.</p>
</div>
<div class="paragraph">
<p>So the&nbsp;map operator <em>isnâ€™t</em> converting a&nbsp;<code>string</code> to&nbsp;<code>SearchItem[]</code> itâ€™s converting a&nbsp;<code>string</code> to&nbsp;<code>Observable&lt;SearchItem[]&gt;</code>.</p>
</div>
<div class="paragraph">
<p>So the&nbsp;subscribe function is receiving <code>Observable&lt;SearchItem[]&gt;</code> and&nbsp;not <code>SearchItem[]</code> as&nbsp;we want.</p>
</div>
<div class="paragraph">
<p>One workaround would then be to&nbsp;just try doing two subscribes, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>  ngOnInit() {
    this.searchField = new FormControl();
    this.searchField.valueChanges
      .debounceTime(400)
      .distinctUntilChanged()
      .map( term =&gt; this.itunes.search(term))
      .subscribe( value =&gt; { <i class="conum" data-value="1"></i><b>(1)</b>
        value.subscribe( other =&gt; console.log(other) ) <i class="conum" data-value="2"></i><b>(2)</b>
      });
  }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>First <code>subscribe</code> receives <code>Observable&lt;SearchItem[]&gt;</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We call subscribe again on&nbsp;each of&nbsp;these observables to&nbsp;get the&nbsp;<code>SearchItem[]</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>This is a&nbsp;common problem with <code>Observables</code> so there is a&nbsp;better way, we can use another operator called <code>switch</code>.</p>
</div>
<div class="paragraph">
<p><code>switch</code> expects a&nbsp;stream of&nbsp;<code>Observables</code>, when it get an&nbsp;<code>Observable</code> pushed onto itâ€™s input stream it <em>unsubscribes</em> from any previous <code>Observables</code> and&nbsp;<em>subscribes</em> to&nbsp;the new one and&nbsp;then emits any values from that <code>Observable</code> onto itâ€™s output stream.</p>
</div>
<div class="paragraph">
<p>To&nbsp;put it another way it coverts <code>Observable&lt;Observable&lt;SearchItem[]&gt;&gt;</code> into <code>Observable&lt;SearchItem[]&gt;</code> which is exactly the&nbsp;problem we are solving with the&nbsp;two <code>subscribes</code> above.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/switch-animation.gif" alt="switch animation">
</div>
</div>
<div class="paragraph">
<p>Using <code>switch</code> with <code>map</code> is <em>such</em> a&nbsp;common occurrence that there is a&nbsp;combined operator called <code>switchMap</code>, which weâ€™ll use</p>
</div>
<div class="paragraph">
<p>Our code now looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>ngOnInit() {
  this.searchField = new FormControl();
  this.searchField.valueChanges
    .debounceTime(400)
    .distinctUntilChanged()
    .switchMap( term =&gt; this.itunes.search(term))
    .subscribe( value =&gt; console.log(value));
}</code></pre>
</div>
</div>
<div class="callout callout-important"><h4>Important</h4><div>
<div class="paragraph">
<p>To&nbsp;use <code>switchMap</code> we need to&nbsp;import it from the&nbsp;RxJS library, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import 'rxjs/add/operator/switchMap';</code></pre>
</div>
</div>
</div></div>
</div>
<div class="sect2">
<h3 id="_rendering_results"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_rendering_results">Rendering results</a></h3>
<div class="paragraph">
<p>Now that our observable chain returns <code>Observable&lt;SearchItem[]&gt;</code> we can just assign it to&nbsp;our local results property, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>ngOnInit() {
  this.searchField = new FormControl();
  this.results = this.searchField.valueChanges <i class="conum" data-value="1"></i><b>(1)</b>
    .debounceTime(400)
    .distinctUntilChanged()
    .switchMap( term =&gt; this.itunes.search(term));
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Store <code>Observable&lt;SearchItem[]&gt;</code> on&nbsp;<code>results</code>.</td>
</tr>
</tbody></table>
</div>
<div class="callout callout-note"><h4>Note</h4><div>
Remember in&nbsp;our template we are using the&nbsp;<code>async</code> pipe. This does a&nbsp;<code>subscribe</code> on&nbsp;our behalf so we also removed the&nbsp;<code>subscribe</code> from our chain.
</div></div>
</div>
<div class="sect2">
<h3 id="_loading_indicator"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_loading_indicator">Loading indicator</a></h3>
<div class="paragraph">
<p>The&nbsp;final thing we need to&nbsp;do is add our <code>loading</code> boolean to&nbsp;the chain, set it to&nbsp;<code>true</code> and&nbsp;<code>false</code> at&nbsp;the right times so our loading message shows correctly, we can do that by&nbsp;using the&nbsp;<code>do</code> operator.</p>
</div>
<div class="callout callout-important"><h4>Important</h4><div>
<div class="paragraph">
<p>We use <code>do</code> to&nbsp;create <em>side effects</em> in&nbsp;our application, it lets us do things <em>outside</em> of&nbsp;just manipulating items via streams. It should be used <em>infrequently</em> but this is a&nbsp;perfect example, setting <em>state</em> on&nbsp;our component depending on&nbsp;where we are in&nbsp;the processing chain</p>
</div>
</div></div>
<div class="paragraph">
<p>So now our function looks like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>ngOnInit() {
  this.searchField = new FormControl();
  this.results = this.searchField.valueChanges
    .debounceTime(400)
    .distinctUntilChanged()
    .do( () =&gt; this.loading = true)
    .switchMap( term =&gt; this.itunes.search(term))
    .do( () =&gt; this.loading = false )
}</code></pre>
</div>
</div>
<div class="callout callout-important"><h4>Important</h4><div>
<div class="paragraph">
<p>We need to&nbsp;import the&nbsp;<code>do</code> operator from RxJS</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import 'rxjs/add/operator/do';</code></pre>
</div>
</div>
</div></div>
<div class="paragraph">
<p>Finally if we run our application we should see something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/http-observable.gif" alt="http observable">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_summary">Summary</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In&nbsp;this lecture weâ€™ve covered, in&nbsp;depth, how to&nbsp;use observables when making <abbr>HTTP</abbr> requests.</p>
</div>
<div class="paragraph">
<p>The&nbsp;goal of&nbsp;this lecture was to&nbsp;show you how you can <em>evolve</em> your application from one that uses just a&nbsp;little bit of&nbsp;observables to&nbsp;one that uses a&nbsp;lot more.</p>
</div>
<div class="paragraph">
<p>Hopefully you now have a&nbsp;much better idea of&nbsp;<em>how</em> to&nbsp;architect your application using observables.</p>
</div>
<div class="paragraph">
<p>We could go even further, for&nbsp;instance the&nbsp;<code>loading</code> property could be itâ€™s own observable, how far and&nbsp;how deep to&nbsp;go is up to&nbsp;you. Depending on&nbsp;how comfortable you feel with Observables and&nbsp;how well they match to&nbsp;your use case.</p>
</div>
<div class="paragraph">
<p>They can be really powerful but at&nbsp;other times they can be a&nbsp;big hindrance with little benefit. In&nbsp;Angular you can use as&nbsp;much or&nbsp;as little reactive programming as&nbsp;you want, it doesnâ€™t prescribe one way or&nbsp;the other.</p>
</div>
<div class="paragraph">
<p>So far weâ€™ve <em>not</em> dealt with the&nbsp;issue of&nbsp;<em><abbr>CORS</abbr></em> and&nbsp;we cheated in&nbsp;creating these apps by&nbsp;installing a&nbsp;plugin to&nbsp;chrome which circumnavigates <em><abbr>CORS</abbr></em> security issues.</p>
</div>
<div class="paragraph">
<p>In&nbsp;the next lecture weâ€™ll cover how to&nbsp;use <em><abbr>JSONP</abbr></em> to&nbsp;solve <em><abbr>CORS</abbr></em> issues, if the&nbsp;<abbr>API</abbr> supports <abbr>JSONP</abbr>, and&nbsp;how to&nbsp;implement <abbr>JSONP</abbr> requests in&nbsp;Angular.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_listing"><a href="https://codecraft.tv/courses/angular/http/http-with-observables/#_listing">Listing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://plnkr.co/edit/Bpa4RiTKu8fd0oYKVskT?p=preview" class="bare">http://plnkr.co/edit/Bpa4RiTKu8fd0o<abbr>YKV</abbr>skT?p=preview</a></p>
</div>
<div class="listingblock">
<div class="title">Listing 1. script.ts</div>
<div class="content">
<pre class="pygments highlight"><span class="language-name"></span><a class="btn btn-sm btn-purple clipboard-copy" data-original-title="Copied!">Copy</a><code data-lang="typescript"><span></span>import {NgModule, Component, Injectable} from '@angular/core';
import {BrowserModule} from '@angular/platform-browser';
import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';
import {HttpModule, Http, Response} from '@angular/http';
import {ReactiveFormsModule, FormControl, FormsModule} from '@angular/forms';
import {Observable} from 'rxjs';
import 'rxjs/add/operator/map';
import 'rxjs/add/operator/debounceTime';
import 'rxjs/add/operator/distinctUntilChanged';
import 'rxjs/add/operator/switchMap';
import 'rxjs/add/operator/do';

class SearchItem {
  constructor(public track: string,
              public artist: string,
              public link: string,
              public thumbnail: string,
              public artistId: string) {
  }
}

@Injectable()
export class SearchService {
  apiRoot: string = '<a class="vglnk" href="https://itunes.apple.com/search" rel="nofollow"><span>https</span><span>://</span><span>itunes</span><span>.</span><span>apple</span><span>.</span><span>com</span><span>/</span><span>search</span></a>';

  constructor(private http: Http) {
  }

  search(term: string): Observable&lt;SearchItem[]&gt; {
    let apiURL = `${this.apiRoot}?term=${term}&amp;media=music&amp;limit=20`;
    return this.http.get(apiURL)
        .map(res =&gt; {
          return res.json().results.map(item =&gt; {
            return new SearchItem(
                item.trackName,
                item.artistName,
                item.trackViewUrl,
                item.artworkUrl30,
                item.artistId
            );
          });
        });
  }
}

@Component({
  selector: 'app',
  template: `
&lt;form class="form-inline"&gt;
  &lt;div class="form-group"&gt;
    &lt;input type="search"
           class="form-control"
           placeholder="Enter search string"
           [formControl]="searchField"&gt;
  &lt;/div&gt;
&lt;/form&gt;

&lt;div class="text-center"&gt;
  &lt;p class="lead" *ngIf="loading"&gt;Loading...&lt;/p&gt;
&lt;/div&gt;

&lt;ul class="list-group"&gt;
  &lt;li class="list-group-item"
      *ngFor="let track of results | async"&gt;
    &lt;img src="{{track.thumbnail}}"&gt;
    &lt;a target="_blank"
       href="{{track.link}}"&gt;{{ track.track }}
    &lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;
 `
})
class AppComponent {
  private loading: boolean = false;
  private results: Observable&lt;SearchItem[]&gt;;
  private searchField: FormControl;

  constructor(private itunes: SearchService) {
  }

  ngOnInit() {
    this.searchField = new FormControl();
    this.results = this.searchField.valueChanges
        .debounceTime(400)
        .distinctUntilChanged()
        .do(_ =&gt; this.loading = true)
        .switchMap(term =&gt; this.itunes.search(term))
        .do(_ =&gt; this.loading = false)
  }

  doSearch(term: string) {
    this.itunes.search(term)
  }
}

@NgModule({
  imports: [
    BrowserModule,
    ReactiveFormsModule,
    FormsModule,
    HttpModule
  ],
  declarations: [AppComponent],
  bootstrap: [AppComponent],
  providers: [SearchService]
})
class AppModule {
}

platformBrowserDynamic().bootstrapModule(AppModule);</code></pre>
</div>
</div>
</div>
</div>

      </div>

      <hr>

      <nav>
        <ul class="pager">
          <li class="previous">
            <a href="https://codecraft.tv/courses/angular/http/http-with-promises/">HTTP Example with Promises</a>
          </li>
      
          <li class="next">
            <a href="https://codecraft.tv/courses/angular/http/jsonp-with-observables/">JSONP Example with Observables</a>
          </li>
        </ul>
      </nav>
      <div id="lecture-book" class="col-md-12">
        <div class="row ebook">
              <div class="col-md-6 text-right">
                <h3>Learn Angular 5 For <strong class="text-primary">FREE</strong></h3>
                <p>I've released my 700 page
                  <a href="https://www.kickstarter.com/projects/366973035/angular2-from-zero-to-hero-online-course-and-ebook" target="_blank">Kick Starter funded
                  </a>
                   Angular 5 book for FREE
                </p>
                <p>
                  <button class="btn btn-primary btn-lg" data-sumome-listbuilder-id="e0b48f43-c26f-411a-bb1a-4bba65cfc27c" role="button" data-sumome-trigger="true">Download Now
                  </button>
                </p>
        
              </div>
        
              <div class="col-md-6">
                <img class="img-responsive" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/angular.ebook.w800.jpg" alt="">
              </div>
            </div>      </div>

      <br>
      <!-- Comments widget will be rendered in this element -->
      <div id="disqus_thread"><iframe id="dsq-app1272" name="dsq-app1272" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(3).html" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 4964px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="indicator-north" name="indicator-north" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 828px !important; border: none !important; overflow: hidden !important; top: 0px !important; min-width: 828px !important; max-width: 828px !important; position: fixed !important; z-index: 2147483646 !important; height: 18px !important; min-height: 18px !important; max-height: 18px !important; display: none !important;" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(4).html"></iframe><iframe id="indicator-south" name="indicator-south" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 828px !important; border: none !important; overflow: hidden !important; bottom: 0px !important; min-width: 828px !important; max-width: 828px !important; position: fixed !important; z-index: 2147483646 !important; height: 18px !important; min-height: 18px !important; max-height: 18px !important; display: none !important;" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(5).html"></iframe></div>

    </article>
    <!-- END Main content -->


  </div>


</main>
<footer class="site-footer">
  <div class="container">
    <a id="scroll-up" href="https://codecraft.tv/courses/angular/http/http-with-observables/#">
      <i class="fa fa-angle-up"></i>
    </a>

    <div class="row">
      <div class="col-md-6 col-sm-6">
        <p>Copyright Â© 2017 Daolrevo Ltd. All rights reserved</p>
      </div>
      <div class="col-md-6 col-sm-6">
        <ul class="footer-menu">
          <li>
            <a href="https://codecraft.tv/">Home</a>
          </li>
          <li>
            <a href="https://codecraft.tv/training/">Training</a>
          </li>
          <li>
            <a href="https://codecraft.tv/speaking/">Speaking</a>
          </li>
          <li>
            <a href="https://codecraft.tv/courses/">Courses</a>
          </li>
          <li>
            <a href="https://codecraft.tv/terms/">Terms</a>
          </li>
          <li>
            <a href="https://codecraft.tv/privacy/">Privacy</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer><script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/player.js"></script>
<script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/abtest.js"></script>
<script async="" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/widgets.js" charset="utf-8"></script>
        
<script>
  var apiBase = 'https://api.codecraft.tv';
</script>
<script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/code.min-bb657453a4a64b4c8aae940b74b2f14b.js"></script>
<script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/angular.js"></script>
<script src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/app-3f08a33bac771a9ec95681036e3bc506.js"></script>
  <script type="text/javascript">
window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
heap.load("1761016128");
</script>
<script type="text/javascript">
  heap.track('Landed Lecture', {
    course: "Angular 5",
    section: "HTTP",
    title: "HTTP Example with Observables"
  });
</script>

    <!-- Disqus widget script -->
    <script>
      var disqus_config = function() {
        this.page.url = 'http://codecraft.tv/courses/angular/http/http-with-observables/';
        this.page.identifier = 'http_example_with_observables';
        this.page.title = 'HTTP Example with Observables';
      };

      (function(d) {
        var s = d.createElement('script');
        s.src = '//codecraft-tv.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })(document);
    </script>
    <!-- End Disqus widget script -->
<iframe scrolling="no" frameborder="0" allowtransparency="true" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/widget_iframe.b813cd3227574096a07e094b73331535.html" title="Twitter settings iframe" style="display: none;"></iframe><a href="javascript:void(0);" title="Sumo" style="background-color: rgb(0, 115, 183); border-radius: 3px 0px 0px 3px; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 10px; position: fixed; z-index: 2147483647; padding: 0px; width: 44px; height: 40px; text-indent: -10000px; opacity: 1; display: none !important;"><span style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;">Sumo</span><span style="display:block;width:40px;height:40px;background:white;margin-left:4px;-webkit-border-radius: 3px 0 0 3px;-moz-border-radius: 3px 0 0 3px;-ms-border-radius: 3px 0 0 3px;-o-border-radius: 3px 0 0 3px;border-radius: 3px 0 0 3px;background-repeat:no-repeat;background-position:8px 8px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZDQ2MjI4YS03NWY2LTRkZTQtOGJjYy1hODc1NjRkMjYxYTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3MUVFMDFFMjVDMTFFNjlFQjhBRjdGODU5MDJBMDUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3MUVFMDBFMjVDMTFFNjlFQjhBRjdGODU5MDJBMDUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZDQ2MjI4YS03NWY2LTRkZTQtOGJjYy1hODc1NjRkMjYxYTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MWQ0NjIyOGEtNzVmNi00ZGU0LThiY2MtYTg3NTY0ZDI2MWE1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8JtvywAAAKhQTFRFzOPxSJvLA3W4Mo7FBna5w97u8vj7EHy8a67VhbzdsdTpVaLPh73d9/v9C3m6QZfJbq/WXKbR3u32JIfB3ez1KorDir/eBHW4+/3+rtPoZarUG4K/LIvDDnu7ocvkf7nbdrTY9fr8E328WKPQO5PITJ3MPpXJstXptdbq+Pv9cbHXaq3VU6HOkMLgnMnjDHq62uv1/P3+6/T53Oz1cLDX/f7+AHO3////ptOZ5QAAADh0Uk5T/////////////////////////////////////////////////////////////////////////wA7XBHKAAAAmUlEQVR42sSRRxLCMAxFRSq9907ovebr/jdDMWYGxmZL3sIqbyFbJv4B/VlkVlerKALTD3G46Mx3AOR1UZ/TsDxW6W0gfYRNVfTCFu2AWpAMgMItMW+zQJU2UjWI29D0+e5KWNPMk+A9Om+B/UgOJyCuwMJCrpuziYkIsglfRByZ/XM3eXnBFEu1kpMpjq9dxQYp/OAXTwEGAB7Rc1xVnPemAAAAAElFTkSuQmCC);"></span></a><iframe style="display: none;" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(6).html"></iframe><iframe style="display: none;" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(7).html"></iframe><div style="position:fixed;top:0;left:0;overflow:hidden;"><label for="focus_retriever" style="position:absolute;left:-1000px;">Focus Retriever</label><input style="position:absolute;left:-1000px;" type="text" name="focus_retriever" value="" id="focus_retriever" readonly="true"></div><div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-page sumome-share-client-counts sumome-share-client-light sumome-share-client-medium" style="top: 392.5px;"><div class="sumome-share-client-show"><span></span></div><div data-sumome-share-pos="rp" class="sumome-share-client sumome-share-client-right-page sumome-share-client-counts sumome-share-client-light sumome-share-client-medium"><a title="Facebook" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="facebook" href="javascript:void(0);" style="background: rgb(59, 89, 152); color: rgb(255, 255, 255);"><img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/facebook-white-60.png" alt="Facebook"></a><a title="Twitter" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="twitter" href="javascript:void(0);" style="background: rgb(0, 172, 237); color: rgb(255, 255, 255);"><img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/twitter-white-60.png" alt="Twitter"></a><a title="Reddit" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="reddit" href="javascript:void(0);" style="background: rgb(255, 87, 0); color: rgb(255, 255, 255);"><img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/reddit-white-60.png" alt="Reddit"></a><a title="Google+" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="googleplus" href="javascript:void(0);" style="background: rgb(221, 75, 57); color: rgb(255, 255, 255);"><img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/googleplus-white-60.png" alt="Google+"></a><a title="Email" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="email" href="javascript:void(0);" style="background: rgb(170, 170, 170); color: rgb(255, 255, 255);"><img src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/email-white-60.png" alt="Email"></a></div><div class="sumome-share-client-hide"><span></span></div></div><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./HTTP Example with Observables â€¢ HTTP â€¢ Angular 5_files/saved_resource(8).html"></iframe></body></html>